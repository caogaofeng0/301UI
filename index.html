<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>ECharts</title>
</head>

<body>
  <!-- 为ECharts准备一个具备大小（宽高）的Dom -->
  <div id="main" style="height:400px"></div>
  <!-- ECharts单文件引入 -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/echarts/4.1.0/echarts-en.common.js"></script>

  <script type="text/javascript">
    // 基于准备好的dom，初始化echarts图表
    var myChart = echarts.init(document.getElementById('main'));

    // 初始 option
    option = {
      title: {
        text: '异步数据加载示例'
      },
      tooltip: {},
      legend: {
        data: ['销量']
      },
      xAxis: {
        data: []
      },
      yAxis: {},
      series: [{
        name: '销量',
        type: 'bar',
        data: []
      }]
    };

    function tt1() {
      function fetchData(cb) {

        // 通过 setTimeout 模拟异步加载
        setTimeout(function () {
          cb({
            categories: document.getElementById("myint1").value.split(","),
            data: document.getElementById("myint2").value.split(",")
          });
        }, 1000);
      }

      fetchData(function (data) {
        myChart.setOption({
          xAxis: {
            data: data.categories
          },
          series: [{
            // 根据名字对应到相应的系列
            name: '销量',
            data: data.data
          }]
        });
      });
      myChart.setOption(option);
    }

    myChart.setOption(option);
  </script>
  <form>
    请输入横坐标数据，以英文","作为间隔：
    <br>
    <input type='text' id='myint1' value="衬衫,羊毛衫,雪纺衫,裤子,高跟鞋,袜子" />
    <br>
    请输入纵坐标数据，以英文","作为开头和间隔，不同类目数据以英文";"作为间隔：
    <br>
    <input type='text' id='myint2' value="5, 20, 36, 10, 10, 20" />
    <input type="button" value="确认" onclick="tt1()">
  </form>

</body>